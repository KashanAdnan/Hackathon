<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hackthon Website</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <nav class="navbar">
        <a href="./index.html" class="logo">
            <img class="logo-img" src="./img/logo.png" alt="">
        </a>
        <ul class="nav-item">
            <li><a href=""> HOME</a></li>
            <li><a href=""> PRODUCTS</a></li>
            <li><a href=""> MEN</a></li>
            <li><a href=""> WOMEN</a></li>
            <li><a href=""> KIDS</a></li>
        </ul>
        <div class="buttons">
            <a href="./pages/login/index.html">Login</a>
            <a href="./pages/signUp/index.html">Sign Up</a>
        </div>
    </nav>
    <div class="container">
        <h1>JUST DO IT YOURSELF</h1>
        <button>Shop Now <i class="fa-solid fa-arrow-right"></i></button>
    </div>
    <div class="heading">
        <h1>New Arrival Prodcuts</h1>
        <p>arival products here</p>
    </div>
    <div class="products">
        <div class="product-card">
            <img src="./img/product-1.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-2.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-3.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-4.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-5.jpg" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-6.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-3.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
        <div class="product-card">
            <img src="./img/product-4.webp" alt="">
            <h1>Nike Shoes Jordan</h1>
            <div class="button-price">
                <p>$55.54</p>
                <button><i class="fa-solid fa-shopping-cart"></i></button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container-footer">
            <div class="row">
                <div class="footer-col">
                    <h4>company</h4>
                    <ul>
                        <li><a href="#">about us</a></li>
                        <li><a href="#">our services</a></li>
                        <li><a href="#">privacy policy</a></li>
                        <li><a href="#">affiliate program</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>get help</h4>
                    <ul>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">shipping</a></li>
                        <li><a href="#">returns</a></li>
                        <li><a href="#">order status</a></li>
                        <li><a href="#">payment options</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>online shop</h4>
                    <ul>
                        <li><a href="#">watch</a></li>
                        <li><a href="#">bag</a></li>
                        <li><a href="#">shoes</a></li>
                        <li><a href="#">dress</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>follow us</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>



    <script type="module">
        // window.location.reload()
        import {app ,auth ,db} from "./firebase/initialize.mjs"
import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js"; 
import {getStorage,ref, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-storage.js"; 
import {    query,
    collection,
    getDocs,
    where} from "https://www.gstatic.com/firebasejs/10.1.0/firebase-firestore.js"; 
const navbar = document.querySelector(".navbar")
const logo_img = document.querySelector(".logo-img")

const redirect = () => {
window.location.href = './pages/profile/index.html'
}


const getData = async (user) => {
    const q = query(collection(db, "users"), where("user", "==", user.uid));
    const querySnapshot = await getDocs(q);
    querySnapshot.forEach((doc) => {
        const storage = getStorage();
getDownloadURL(ref(storage, doc.data().email))
  .then((url) => {
    const buttons = document.querySelector(".buttons")
    buttons.innerHTML = `<i class="fa-solid fa-shopping-cart"></i>
    <i class="fa-solid fa-heart"></i>
            <img onclick="redirect()" src=${url}>
        `
})
.catch((error) => {
  // Handle any errors
});
    });
}



onAuthStateChanged(auth, (user => {
    if (user) {
         getData(user)

    } else {
        console.log("SIng");
    }
}))

window.addEventListener("scroll", (() => {
    const scollY = window.scrollY;
    if (scollY >= 150) {
        navbar.classList.add("color")
        logo_img.src = "../img/black-logo.png"
    } else {
        navbar.classList.remove("color")
        logo_img.src = "../img/logo.png"
    }
}))
window.redirect = redirect

    </script>
</body>

</html>